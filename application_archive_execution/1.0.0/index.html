<!doctype html>
<html lang="en">

<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

        <!-- Title renamed: Calculator (no version in title) -->
        <title>Calculator</title>

        <meta name="theme-color" content="#000000" />
        <link rel="icon" href="favicon.ico" />

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@600;700;800&family=Poppins:wght@300;400;600;700&display=swap"
                rel="stylesheet">

        <link rel="stylesheet" href="public/css/style.css" />
</head>

<body>

        <!-- INTRO OVERLAY (covers everything until app is fully loaded) -->
        <div id="introOverlay" class="intro" aria-label="Loading">
                <img class="intro-icon" src="favicon.ico" alt="Calculator" />
        </div>

        <div id="pageRoot">
                <!-- Top thin taskbar -->
                <header class="topbar">
                        <button id="menuBtn" class="icon-btn ripple-target" aria-label="Toggle settings" title="Menu">
                                <span class="menu-icon" aria-hidden="true"><i></i><i></i><i></i></span>
                        </button>

                        <button id="historyBtn" class="icon-btn ripple-target" aria-label="Toggle history"
                                title="History">
                                <span class="history-icon" aria-hidden="true">
                                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="square"
                                                stroke-linejoin="miter">
                                                <path d="M3 12a9 9 0 1 0 3-6.7" />
                                                <path d="M3 4v6h6" />
                                                <path d="M12 7v6l4 2" />
                                        </svg>
                                </span>
                        </button>

                        <div class="topbar-title">Calculator</div>
                        <div class="topbar-spacer"></div>
                </header>

                <!-- Settings Sidebar -->
                <aside id="settingsSide" class="sidebar sidebar-left" aria-label="Settings sidebar">
                        <div class="sidebar-head">
                                <div class="sidebar-title">Settings</div>
                                <button id="settingsClose" class="icon-btn ripple-target" aria-label="Close settings"
                                        title="Close">✕</button>
                        </div>

                        <div class="sidebar-body">
                                <div class="sidebar-section">
                                        <div class="opt-row">
                                                <div class="opt-text">
                                                        <div class="opt-title">Vibration</div>
                                                        <div class="opt-desc">Gives a small vibration on button taps (if
                                                                supported).</div>
                                                </div>
                                                <input id="optVibrate" class="opt-toggle" type="checkbox" />
                                        </div>

                                        <div class="opt-row">
                                                <div class="opt-text">
                                                        <div class="opt-title">Auto-resize Font</div>
                                                        <div class="opt-desc">Automatically shrinks the answer font when
                                                                numbers get long.</div>
                                                </div>
                                                <input id="optAutoFont" class="opt-toggle" type="checkbox" />
                                        </div>

                                        <!-- NEW (1.0.0): Button Sounds -->
                                        <div class="opt-row">
                                                <div class="opt-text">
                                                        <div class="opt-title">Button Sounds</div>
                                                        <div class="opt-desc">Plays a click sound on taps (supports
                                                                overlapping clicks).</div>
                                                </div>
                                                <input id="optSounds" class="opt-toggle" type="checkbox" />
                                        </div>

                                        <!-- keep but hidden (dark only) -->
                                        <div class="opt-row hidden">
                                                <div class="opt-text">
                                                        <div class="opt-title">Light Mode</div>
                                                        <div class="opt-desc">Hidden for now (dark mode only).</div>
                                                </div>
                                                <input id="optLight" class="opt-toggle" type="checkbox" />
                                        </div>

                                        <button id="whatsNewBtn" class="side-btn ripple-target">What's New?</button>
                                        <button id="resetSettingsBtn" class="side-btn ripple-target side-btn-2">Reset
                                                Settings</button>
                                </div>

                                <div class="sidebar-spacer"></div>

                                <div class="sidebar-section sidebar-metrics">
                                        <div class="kv">
                                                <span>Saved Data</span>
                                                <span id="savedDataVal" class="kv-val">0.00 KB</span>
                                        </div>
                                        <div class="kv">
                                                <span>Cache Data</span>
                                                <span id="cacheDataVal" class="kv-val">0.00 KB</span>
                                        </div>
                                </div>

                                <div class="sidebar-foot">
                                        <div class="ver-main">Version 1.0.0</div>
                                        <div class="ver-sub">2026 Calculator. All Rights Reserved...</div>
                                </div>
                        </div>
                </aside>

                <!-- History Sidebar (portrait) -->
                <aside id="historySide" class="sidebar sidebar-left" aria-label="History sidebar">
                        <div class="sidebar-head">
                                <div class="sidebar-title">History</div>
                                <button id="historyClose" class="icon-btn ripple-target" aria-label="Close history"
                                        title="Close">✕</button>
                        </div>

                        <div class="sidebar-body">
                                <div class="history-viewport">
                                        <div id="historyListSide" class="history-list" aria-label="History list"></div>
                                </div>

                                <div class="sidebar-section sidebar-actions">
                                        <button id="clearHistorySide" class="side-btn ripple-target">Clear Saved
                                                Data</button>
                                        <button id="clearCacheSide" class="side-btn ripple-target side-btn-2">Clear
                                                Cache</button>
                                </div>

                                <div class="sidebar-foot">Tap a result to reuse it</div>
                        </div>
                </aside>

                <!-- Backdrop -->
                <div id="backdrop" class="backdrop" aria-hidden="true"></div>

                <!-- App -->
                <main class="app">
                        <section class="calc" aria-label="Calculator">
                                <div class="display" role="group" aria-label="Display">
                                        <div id="prev" class="prev placeholder" aria-hidden="true">--</div>
                                        <div class="screen-wrap">
                                                <div id="screen" class="screen" aria-label="Calculator screen">0</div>
                                        </div>
                                </div>

                                <div class="content-row">
                                        <div class="pad">
                                                <div class="keys" role="group" aria-label="Keys">
                                                        <button class="key key-fn ripple-target"
                                                                data-action="clear">AC</button>
                                                        <button class="key key-fn ripple-target"
                                                                data-action="del">DEL</button>
                                                        <button class="key key-fn ripple-target"
                                                                data-value="%">%</button>
                                                        <button class="key key-op ripple-target"
                                                                data-value="/">÷</button>

                                                        <button class="key ripple-target" data-value="7">7</button>
                                                        <button class="key ripple-target" data-value="8">8</button>
                                                        <button class="key ripple-target" data-value="9">9</button>
                                                        <button class="key key-op ripple-target"
                                                                data-value="*">×</button>

                                                        <button class="key ripple-target" data-value="4">4</button>
                                                        <button class="key ripple-target" data-value="5">5</button>
                                                        <button class="key ripple-target" data-value="6">6</button>
                                                        <button class="key key-op ripple-target"
                                                                data-value="-">−</button>

                                                        <button class="key ripple-target" data-value="1">1</button>
                                                        <button class="key ripple-target" data-value="2">2</button>
                                                        <button class="key ripple-target" data-value="3">3</button>
                                                        <button class="key key-op ripple-target"
                                                                data-value="+">+</button>

                                                        <button class="key key-fn ripple-target"
                                                                data-value="(">(</button>
                                                        <button class="key ripple-target" data-value="0">0</button>
                                                        <button class="key key-fn ripple-target"
                                                                data-value=")">)</button>
                                                        <button class="key key-eq ripple-target"
                                                                data-action="equals">=</button>

                                                        <button class="key key-wide ripple-target"
                                                                data-value=".">.</button>
                                                </div>
                                        </div>

                                        <!-- Inline History (landscape) -->
                                        <aside id="historyInline" class="history-inline" aria-label="History panel">
                                                <div class="history-inline-head">
                                                        <div class="history-inline-title">History</div>
                                                </div>

                                                <div id="historyListInline" class="history-list history-list-inline">
                                                </div>

                                                <div class="history-inline-actions">
                                                        <div class="btn-row">
                                                                <button id="clearHistoryInline"
                                                                        class="side-btn ripple-target side-btn-row">Clear
                                                                        Saved Data</button>
                                                                <button id="clearCacheInline"
                                                                        class="side-btn ripple-target side-btn-row">Clear
                                                                        Cache</button>
                                                        </div>
                                                        <div class="inline-foot">Tap a result to reuse it</div>
                                                </div>
                                        </aside>
                                </div>
                        </section>
                </main>
        </div>

        <!-- Android-style Dark Dialog -->
        <div id="dialogRoot" class="dialog-root" hidden>
                <div id="dialogBox" class="dialog" role="dialog" aria-modal="true" aria-labelledby="dlgTitle">
                        <div id="dlgTitle" class="dlg-title"></div>
                        <div id="dlgBodyWrap" class="dlg-body-wrap">
                                <div id="dlgBody" class="dlg-body"></div>
                        </div>
                        <div id="dlgActions" class="dlg-actions"></div>
                </div>
        </div>

        <script src="public/js/description.js"></script>
        <script src="public/js/math.js"></script>
        <script src="public/js/main.js"></script>
</body>

</html>